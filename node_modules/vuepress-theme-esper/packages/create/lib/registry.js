"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRegistry = void 0;
const execa_1 = require("execa");
const inquirer_1 = require("inquirer");
const npmmirrorRegistry = "https://registry.npmmirror.com/";
const getUserRegistry = (bin) => (0, execa_1.sync)(bin ? "yarn" : "npm", ["config", "get", "registry"]).stdout;
const getRegistry = async (lang, bin) => {
    const userRegistry = getUserRegistry(bin);
    if (lang === "en-US" || userRegistry === npmmirrorRegistry)
        return userRegistry;
    const { registry } = await (0, inquirer_1.prompt)([
        {
            name: "registry",
            type: "list",
            message: "选择你想使用的源",
            choices: ["国内镜像源", "当前源"],
        },
    ]);
    return registry === "国内镜像源" ? npmmirrorRegistry : userRegistry;
};
exports.getRegistry = getRegistry;
//# sourceMappingURL=registry.js.map