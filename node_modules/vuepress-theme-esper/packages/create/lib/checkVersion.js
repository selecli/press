"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkForLatestVersion = void 0;
const https_1 = require("https");
const checkForLatestVersion = (packageName) => new Promise((resolve, reject) => {
    (0, https_1.get)(`https://registry.npmjs.org/-/package/${packageName}/dist-tags`, (res) => {
        if (res.statusCode === 200) {
            let body = "";
            res.on("data", (data) => (body += data));
            res.on("end", () => {
                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access
                resolve(JSON.parse(body).latest);
            });
        }
        else {
            reject(new Error(`Get ${packageName} version failed, please check your network!`));
        }
    }).on("error", () => {
        reject(new Error(`Get ${packageName} version failed, please check your network!`));
    });
});
exports.checkForLatestVersion = checkForLatestVersion;
//# sourceMappingURL=checkVersion.js.map