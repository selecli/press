{"remainingRequest":"/Users/liruichen/test/press/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liruichen/test/press/node_modules/vuepress-theme-ting/components/ting-search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liruichen/test/press/node_modules/vuepress-theme-ting/components/ting-search.vue","mtime":1656938188487},{"path":"/Users/liruichen/test/press/node_modules/cache-loader/dist/cjs.js","mtime":1656678766982},{"path":"/Users/liruichen/test/press/node_modules/babel-loader/lib/index.js","mtime":1650710743750},{"path":"/Users/liruichen/test/press/node_modules/cache-loader/dist/cjs.js","mtime":1656678766982},{"path":"/Users/liruichen/test/press/node_modules/vue-loader/lib/index.js","mtime":1656678767627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoS2V5OiAiIiwKICAgICAgYWxsSGVhZGVyOiBbXSwKICAgICAgaGVhZGVyTGlzdDogW10sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlYXJjaFRpdGxlczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbGlzdCA9IHRoaXMuaGVhZGVyTGlzdC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgaXRlbS5oZWFkZXIudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuc2VhcmNoS2V5LnRvTG93ZXJDYXNlKCkpICE9CiAgICAgICAgICAgIC0xIHx8CiAgICAgICAgICBpdGVtLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaEtleS50b0xvd2VyQ2FzZSgpKSAhPSAtMQogICAgICAgICkgewogICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIG5ld0xpc3QgPSBbXTsKICAgICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoID4gNiA/IDYgOiBsaXN0Lmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIG5ld0xpc3QucHVzaChsaXN0W2ldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV3TGlzdDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDot7PovazpobXpnaIKICAgIHNlYXJjaExpbmsoaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIKICAgICAgICAucHVzaCh7CiAgICAgICAgICBwYXRoOiBpdGVtLnJvYWQsCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4ge30pOwogICAgICB0aGlzLnNlYXJjaEtleSA9IG51bGw7CiAgICB9LAogICAgLy8g5aSE55CGaGVhZGVy5Yiw5LiA5Liq5YiX6KGo6YeMCiAgICByZXNvbHZlSGVhZGVyKGFycikgewogICAgICBhcnIuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAgIGlmIChlbGVtZW50LmhlYWRlcnMpIHsKICAgICAgICAgIHRoaXMuaGVhZGVyTGlzdC5wdXNoKHsKICAgICAgICAgICAgcm9hZDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICBoZWFkZXI6ICIiLAogICAgICAgICAgICBocmVmOiBlbGVtZW50LnJlZ3VsYXJQYXRoLAogICAgICAgICAgICB0aXRsZTogZWxlbWVudC50aXRsZSA9PSB1bmRlZmluZWQgPyAiIiA6IGVsZW1lbnQudGl0bGUsCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBoZWFkZXJzID0gZWxlbWVudC5oZWFkZXJzOwogICAgICAgICAgLy/pgY3ljobmlofnq6Dph4zpnaLnmoRoZWFkZXIKICAgICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoaGVhZCkgPT4gewogICAgICAgICAgICB2YXIgaHJlZiA9IGhlYWQuc2x1ZzsKICAgICAgICAgICAgdmFyIHJvYWQgPSBlbGVtZW50LnBhdGggKyAiIyIgKyBocmVmOwogICAgICAgICAgICB0aGlzLmhlYWRlckxpc3QucHVzaCh7CiAgICAgICAgICAgICAgcm9hZDogcm9hZCwKICAgICAgICAgICAgICBoZWFkZXI6IGhlYWQudGl0bGUsCiAgICAgICAgICAgICAgaHJlZjogaHJlZiwKICAgICAgICAgICAgICB0aXRsZTogZWxlbWVudC50aXRsZSA9PSB1bmRlZmluZWQgPyAiIiA6IGVsZW1lbnQudGl0bGUsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZXNvbHZlSGVhZGVyKHRoaXMuJHNpdGUucGFnZXMpOwogIH0sCn07Cg=="},{"version":3,"sources":["ting-search.vue"],"names":[],"mappings":";AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ting-search.vue","sourceRoot":"node_modules/vuepress-theme-ting/components","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      autofocus=\"autofocus\"\n      v-model=\"searchKey\"\n      placeholder=\"找找关键词哦～\"\n    />\n    <div\n      :class=\"searchKey && searchTitles.length ? 'show' : 'hide'\"\n      class=\"result-list\"\n    >\n      <div\n        class=\"result-item\"\n        v-for=\"(item, index) in searchTitles\"\n        @click=\"searchLink(item)\"\n        :key=\"index\"\n      >\n        <span class=\"result-item-tit\">{{ item.title }} </span>\n        <span class=\"result-item-header\">{{ item.header }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      searchKey: \"\",\n      allHeader: [],\n      headerList: [],\n    };\n  },\n  computed: {\n    searchTitles: function () {\n      var list = this.headerList.filter((item, index) => {\n        if (\n          item.header.toLowerCase().indexOf(this.searchKey.toLowerCase()) !=\n            -1 ||\n          item.title.toLowerCase().indexOf(this.searchKey.toLowerCase()) != -1\n        ) {\n          return item;\n        }\n      });\n      var newList = [];\n      var len = list.length > 6 ? 6 : list.length;\n      for (var i = 0; i < len; i++) {\n        newList.push(list[i]);\n      }\n      return newList;\n    },\n  },\n  methods: {\n    // 跳转页面\n    searchLink(item) {\n      this.$router\n        .push({\n          path: item.road,\n        })\n        .catch((err) => {});\n      this.searchKey = null;\n    },\n    // 处理header到一个列表里\n    resolveHeader(arr) {\n      arr.forEach((element) => {\n        if (element.headers) {\n          this.headerList.push({\n            road: element.path,\n            header: \"\",\n            href: element.regularPath,\n            title: element.title == undefined ? \"\" : element.title,\n          });\n          var headers = element.headers;\n          //遍历文章里面的header\n          headers.forEach((head) => {\n            var href = head.slug;\n            var road = element.path + \"#\" + href;\n            this.headerList.push({\n              road: road,\n              header: head.title,\n              href: href,\n              title: element.title == undefined ? \"\" : element.title,\n            });\n          });\n        }\n      });\n    },\n  },\n  mounted() {\n    this.resolveHeader(this.$site.pages);\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.search-box {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  position: relative;\n  font-size: 1em;\n  margin: 1em;\n\n  input {\n    border-radius: 1em;\n    padding: 0.5em 1em;\n    display: block;\n    outline: none;\n    border: 2px solid #fda6bc;\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.15);\n    margin: 1em 0;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .result-list {\n    position: absolute;\n    left: 0;\n    transition: 1s all;\n    right: 0;\n    margin: 1em;\n    margin-top: 3.5em;\n    background: #ffffff;\n    border: 2px dashed #fda6bc;\n    z-index: 9;\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.15);\n\n    &:after {\n      content: ' ';\n      position: absolute;\n      top: -1em;\n      left: 0;\n      right: 0;\n      width: 0;\n      height: 0;\n      margin: auto;\n      border: solid 0.5em #fda6bc;\n      border-top: transparent 0.5em solid;\n      border-right: transparent 0.5em solid;\n      border-left: transparent 0.5em solid;\n    }\n\n    .result-item {\n      border-bottom: solid 1px #f1f2f4;\n      padding: 10px;\n\n      &-tit {\n        font-weight: bold;\n        max-width: 6em;\n      }\n\n      &-header {\n        font-size: 0.8em;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n}\n</style>"]}]}